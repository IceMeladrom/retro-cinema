<!-- src/main/resources/templates/index.html -->
<!DOCTYPE html>
<html lang="ru" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">Афиша - СОВРЕМЕННИК</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&family=Russo+One&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap">
    <link rel="stylesheet" type="text/css" href="/static/css/style.css" th:href="@{/css/style.css}">
</head>
<body>
<header th:replace="~{base :: header}"></header>
<main>
    <h2>Ваши билеты</h2>
    <div th:each="ticket : ${lastTickets}">
        <p th:text="'Уникальный номер билета: ' + ${ticket.id}"></p>
        <p th:text="'Кинотеатр: ' + ${ticket.cinemaName}"></p>
        <p th:text="'Адрес кинотеатра: ' + ${ticket.cinemaAddress}"></p>
        <p th:text="'Фильм: ' + ${ticket.filmTitle}"></p>
        <p th:text="'Начало сеанса: ' + ${#temporals.format(ticket.startOfSession, 'dd MMMM yyyy HH:mm', new java.util.Locale('ru', 'RU'))}">
        <p th:text="'Ряд: ' + ${ticket.rowNumber}"></p>
        <p th:text="'Место: ' + ${ticket.seatNumber}"></p>
        <br>
    </div>
    <hr>
    <h2>Заказы</h2>
    <table>
        <tr>
            <th>Номер</th>
            <th>Фильм</th>
            <th>Кинотеатр</th>
            <th>Дата</th>
            <th>Ряд</th>
            <th>Место</th>
        </tr>
        <tr th:each="ticket : ${tickets}">
            <td th:text="${ticket.id}"></td>
            <td th:text="${ticket.filmTitle}"></td>
            <td th:text="${ticket.cinemaName}"></td>
            <td th:text="${#temporals.format(ticket.startOfSession, 'dd MMMM yyyy HH:mm', new java.util.Locale('ru', 'RU'))}"></td>
            <td th:text="${ticket.rowNumber}"></td>
            <td th:text="${ticket.seatNumber}"></td>
            <td><a th:href="@{/ticket/return/{ticketId}(ticketId=${ticket.id})}">Вернуть</a></td>
        </tr>
    </table>
    <hr>
    <h2>Возвраты</h2>
    <table>
        <tr>
            <th>Номер</th>
            <th>Фильм</th>
            <th>Кинотеатр</th>
            <th>Дата</th>
            <th>Ряд</th>
            <th>Место</th>
        </tr>
        <tr th:each="refund : ${refunds}">
            <td th:text="${refund.id}"></td>
            <td th:text="${refund.filmTitle}"></td>
            <td th:text="${refund.cinemaName}"></td>
            <td th:text="${#temporals.format(refund.startOfSession, 'dd MMMM yyyy HH:mm', new java.util.Locale('ru', 'RU'))}"></td>
            <td th:text="${refund.rowNumber}"></td>
            <td th:text="${refund.seatNumber}"></td>
        </tr>
    </table>


</main>
</body>
</html>
